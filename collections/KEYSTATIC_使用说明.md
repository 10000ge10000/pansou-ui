# Keystatic 管理界面使用说明

## 🚀 快速开始

1. **启动开发服务器**
   ```bash
   npm run dev
   ```

2. **访问管理界面**
   - 打开浏览器访问: `http://localhost:4321/keystatic`
   - 你会看到一个友好的中文管理界面

## 📋 功能说明

### 🏷️ 分类管理
- **添加分类**: 点击"创建新项目"按钮
- **编辑分类**: 点击现有分类进行编辑
- **字段说明**:
  - 分类ID: 用于URL的唯一标识符 (如: games, movies)
  - 分类名称: 显示给用户的名称
  - 图标: 选择合适的emoji图标
  - 主题颜色: 选择分类的主题颜色
  - 分类描述: 详细描述这个分类

### 📦 集合管理
- **添加集合**: 点击"创建新项目"按钮
- **编辑集合**: 点击现有集合进行编辑
- **字段说明**:
  - 集合ID: 唯一标识符 (如: steam-games-2024)
  - 集合标题: 显示的标题
  - 所属分类: 选择所属的分类
  - 封面图片: 图片路径 (如: /images/cover.png)
  - 标签列表: 添加多个标签
  - 创建/更新日期: 自动设置为今天
  - 资源列表: 添加多个资源

### 📋 资源管理 (在集合中)
每个集合可以包含多个资源:
- **资源名称**: 资源的显示名称
- **网盘平台**: 选择对应的网盘平台
- **分享链接**: 网盘分享链接
- **提取密码**: 如果有密码就填写
- **文件大小**: 如: 1.6TB, 221.7GB
- **资源标签**: 为资源添加标签
- **资源描述**: 详细描述资源内容

## 💡 使用技巧

1. **保存数据**: 编辑完成后点击"保存"按钮
2. **预览效果**: 保存后可以访问主页面查看效果
3. **数据同步**: 所有修改会自动同步到原始的JSON文件
4. **批量操作**: 可以同时编辑多个项目

## 🔄 数据同步

**重要提示**: Keystatic将数据存储为单独的`.mdoc`文件，需要手动同步到原始的JSON格式。

### 手动同步
在Keystatic中修改数据后，运行以下命令同步到JSON文件：
```bash
npm run sync
```

### 自动同步（推荐）
使用带自动同步的开发模式：
```bash
npm run dev:sync
```
这会同时启动开发服务器和文件监听，当你在Keystatic中保存数据时会自动同步到JSON文件。

### 同步说明
- 同步脚本会读取 `src/data/categories/*.mdoc` 和 `src/data/collections/*.mdoc` 文件
- 将数据转换并更新到 `src/data/collections.json`
- 前端页面会立即显示更新后的数据
- 所有数据都存储在本地，无需担心数据丢失

## 🎯 常见操作

### 添加新的游戏集合
1. 进入"📦 集合管理"
2. 点击"创建新项目"
3. 填写集合信息:
   - ID: `new-games-2024`
   - 标题: `最新游戏合集`
   - 分类: `🎮 游戏合集`
   - 添加资源信息
4. 保存

### 修改现有集合
1. 在集合列表中找到要修改的集合
2. 点击进入编辑页面
3. 修改需要的字段
4. 保存更改

## 🛠️ 故障排除

如果遇到问题:
1. 确保开发服务器正在运行
2. 检查浏览器控制台是否有错误
3. 重新启动开发服务器: `npm run dev`